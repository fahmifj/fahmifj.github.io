<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>blog on Ef&#39;s log</title>
    <link>https://fahmifj.github.io/categories/blog/</link>
    <description>Recent content in blog on Ef&#39;s log</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Fri, 05 Nov 2021 20:40:16 +0700</lastBuildDate><atom:link href="https://fahmifj.github.io/categories/blog/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Tplmap Install</title>
      <link>https://fahmifj.github.io/blog/tplmap-install/</link>
      <pubDate>Fri, 05 Nov 2021 20:40:16 +0700</pubDate>
      
      <guid>https://fahmifj.github.io/blog/tplmap-install/</guid>
      <description>Python pip so weirrd</description>
      <content:encoded><![CDATA[<p>This is quick note to get tplmap working again!</p>
<p>Previously on <a href="https://fahmifj.github.io/hackthebox/doctor/">HTB: Doctor</a>, this tool was working fine with python2, but when I tried to use it again, it threw these error messages.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">→ kali@kali «tplmap» «192.168.1.55» git:<span class="o">(</span>master<span class="o">)</span> ✗ 
$ python tplmap.py 
Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
  File <span class="s2">&#34;/opt/tplmap-venv/tplmap/./tplmap.py&#34;</span>, line 2, in &lt;module&gt;
    from utils import cliparser
  File <span class="s2">&#34;/opt/tplmap-venv/tplmap/utils/cliparser.py&#34;</span>, line 163, in &lt;module&gt;
    parser.formatter.format_option_strings <span class="o">=</span> type<span class="o">(</span>parser.formatter.format_option_strings<span class="o">)(</span>_, parser, type<span class="o">(</span>parser<span class="o">))</span>
TypeError: method expected <span class="m">2</span> arguments, got <span class="m">3</span>
</code></pre></div><p>Here&rsquo;s how I resolve it.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">$ python2 -m pip install --upgrade setuptools
$ python2 -m pip install virtualenv 
$ git clone https://github.com/epinna/tplmap.git
$ <span class="nb">cd</span> ./tplmap/
$ python2 -m virtualenv tplmap-venv
$ <span class="nb">source</span> ./tplmap-venv/bin/activate
<span class="o">(</span>tplmap-venv<span class="o">)</span> $ python2 -m pip install -r requirements.txt 
</code></pre></div><p>All the requirements should be listed now.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="o">(</span>tplmap-venv<span class="o">)</span> → $ python2 -m pip list                                                      
--<span class="o">[</span>snip annoying deprecated message<span class="o">]</span>--
Package    Version
---------- ----------
certifi    2018.10.15
chardet    3.0.4
idna       2.8
pip        20.3.4
PyYAML     5.1.2
requests   2.22.0
setuptools 44.1.1
urllib3    1.24.1
wheel      0.37.0
</code></pre></div><p>It&rsquo;s working fine now.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="o">(</span>tplmap-venv<span class="o">)</span> → kali@kali «tplmap» «192.168.1.55» git:<span class="o">(</span>master<span class="o">)</span> 
$ python2 tplmap.py 
<span class="o">[</span>+<span class="o">]</span> Tplmap 0.5
    Automatic Server-Side Template Injection Detection and Exploitation Tool

Usage: python tplmap.py <span class="o">[</span>options<span class="o">]</span>

tplmap.py: error: URL is required. Run with -h <span class="k">for</span> help.
</code></pre></div><p>I&rsquo;m not sure about this, but on my other Kali, these commands (without venv) could get tplmap working again.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">$ python2 install --upgrade setuptools
$ python2 -m pip install -r requirements.txt 
</code></pre></div>]]></content:encoded>
    </item>
    
  </channel>
</rss>
