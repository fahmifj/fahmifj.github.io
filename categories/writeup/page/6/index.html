<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Writeup | Ef's log</title>
<meta name=keywords content>
<meta name=description content="Infosec, CTF write-ups, and other IT related stuff">
<meta name=author content="Fahmi FJ">
<link rel=canonical href=https://fahmifj.github.io/categories/writeup/>
<meta name=google-site-verification content="LlCRq--iL8r1HTz1DMbMvQyX2lZjWD-KnwFeO_OWlg8">
<link crossorigin=anonymous href=https://fahmifj.github.io/assets/css/stylesheet.min.e4fa5d9e6235265db00abdee7d0c336d84263e9ab0a51d6988eaf932dd1b67e0.css integrity="sha256-5PpdnmI1Jl2wCr3ufQwzbYQmPpqwpR1piOr5Mt0bZ+A=" rel="preload stylesheet" as=style>
<link rel=icon href=https://fahmifj.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://fahmifj.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://fahmifj.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=https://fahmifj.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://fahmifj.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.87.0">
<link rel=alternate type=application/rss+xml href=https://fahmifj.github.io/categories/writeup/index.xml>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PDN0GP97D1"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-PDN0GP97D1',{anonymize_ip:!1})}</script>
<meta property="og:title" content="Writeup">
<meta property="og:description" content="Infosec, CTF write-ups, and other IT related stuff">
<meta property="og:type" content="website">
<meta property="og:url" content="https://fahmifj.github.io/categories/writeup/">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Writeup">
<meta name=twitter:description content="Infosec, CTF write-ups, and other IT related stuff">
</head>
<body class="list dark" id=top>
<script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove('dark')</script>
<noscript>
<style type=text/css>#theme-toggle,.top-link{display:none}</style>
</noscript>
<header class="header sticky">
<nav class=nav>
<div class=menu-wrapper>
<div class=logo>
<a href=https://fahmifj.github.io/ accesskey=h title=友人F>友人F</a>
</span>
</div>
<ul id=menu onscroll=menu_on_scroll()>
<li>
<a href=https://fahmifj.github.io/about/ title=About>About</a>
</li>
<li>
<a href=https://fahmifj.github.io/archives/ title=Archives>Archives</a>
</li>
<li>
<a href=https://fahmifj.github.io/projects/ title=Projects>Projects</a>
</li>
<li>
<a href=https://fahmifj.github.io/search/ title="Search (Alt + /)" accesskey=/>Search</a>
</li>
</ul>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</div>
</nav>
</header>
<main class=main>
<header class=page-header>
<h1>Writeup</h1>
</header>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>HackTheBox - Blackfield</h2>
</header>
<section class=entry-content>
<p>
Blackfield is a hard difficulty Windows machine from HackTheBox that features Active Directory environment. It begins with collecting a list of usernames from an SMB share. With these usernames, I’m able to perform AS-REP roasting attack and obtain a TGT from a helpdesk account. The helpdesk account can be used to reset the password of an audit account. Re-enumerating SMB shares using the audit account finds an LSASS memory dump file.
...
</p>
</section>
<footer class=entry-footer>
May 4, 2021&nbsp;·&nbsp;11 min&nbsp;·&nbsp;Fahmi FJ<div class=entry-tags>
<p>OSCP-plus&nbsp;·&nbsp;Windows&nbsp;·&nbsp;Active-Directory&nbsp;·&nbsp;Domain-controller&nbsp;·&nbsp;SMB&nbsp;·&nbsp;ASREP-roasting&nbsp;·&nbsp;BloodHound&nbsp;·&nbsp;Bloodhound.py&nbsp;·&nbsp;Net-RPC&nbsp;·&nbsp;SeBackupPrivilege&nbsp;·&nbsp;DiskShadow&nbsp;·&nbsp;evil-winrm&nbsp;·&nbsp;secretsdump.py&nbsp;·&nbsp;ldapdomaindump </p>
</div>
</footer>
<a class=entry-link aria-label="post link to HackTheBox - Blackfield" href=https://fahmifj.github.io/writeups/hackthebox/htb-blackfield/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>HackTheBox - Buff</h2>
</header>
<section class=entry-content>
<p>
Buff is a Windows machine with easy difficulty from HackTheBox that features an open source web application called “Gym Management System”. The application can be exploited using a publicly available exploit. Internal enumeration discovers a program service that is bound to the loopback interface. The program is found to be vulnerable to a buffer overflow attack, and there is also a publicly available exploit to exploit it to gain access as Administrator.
...
</p>
</section>
<footer class=entry-footer>
May 1, 2021&nbsp;·&nbsp;8 min&nbsp;·&nbsp;Fahmi FJ<div class=entry-tags>
<p>OSCP-like&nbsp;·&nbsp;Windows&nbsp;·&nbsp;Webshell&nbsp;·&nbsp;CloudMe&nbsp;·&nbsp;Buffer-overflow&nbsp;·&nbsp;Tunneling&nbsp;·&nbsp;Chisel </p>
</div>
</footer>
<a class=entry-link aria-label="post link to HackTheBox - Buff" href=https://fahmifj.github.io/writeups/hackthebox/htb-buff/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>HackTheBox - SneakyMailer</h2>
</header>
<section class=entry-content>
<p>
SneakyMailer is a medium difficulty Linux machine from Hack The Box. It starts by obtaining credentials through phishing attack. The credentials allows me to access one of the users' mailboxes and obtain an FTP account. Foothold on the system can be gained after dropping a reverse shell on the FTP. Internal enumeration discovers a PyPI server that can be exploited to escalate myself to user by uploading a malicious package. The user is allowed to run pip3 with sudo privileges, and this can be leveraged to obtain root access.
...
</p>
</section>
<footer class=entry-footer>
April 28, 2021&nbsp;·&nbsp;10 min&nbsp;·&nbsp;Fahmi FJ<div class=entry-tags>
<p>OSCP-like&nbsp;·&nbsp;Linux&nbsp;·&nbsp;SMTP&nbsp;·&nbsp;IMAP&nbsp;·&nbsp;Sylpheed&nbsp;·&nbsp;Phishing&nbsp;·&nbsp;Webshell&nbsp;·&nbsp;Python&nbsp;·&nbsp;PyPI&nbsp;·&nbsp;sudo&nbsp;·&nbsp;GTFObins </p>
</div>
</footer>
<a class=entry-link aria-label="post link to HackTheBox - SneakyMailer" href=https://fahmifj.github.io/writeups/hackthebox/htb-sneakymailer/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>HackTheBox - Tabby</h2>
</header>
<section class=entry-content>
<p>
Tabby is an easy Linux box that starts off by identifying and leveraging an LFI vulnerability to find tomcat credentials. The credentials can be used to gain a foothold on the system by deploying a malicious .war file via Tomcat Manager. Internal enumeration finds a password protected backup file, and it can be cracked to recover the password. The password turns out to be reused by the user on the box.
...
</p>
</section>
<footer class=entry-footer>
April 26, 2021&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Fahmi FJ<div class=entry-tags>
<p>OSCP-like&nbsp;·&nbsp;Linux&nbsp;·&nbsp;LFI&nbsp;·&nbsp;Tomcat&nbsp;·&nbsp;Password-cracking&nbsp;·&nbsp;WAR-file&nbsp;·&nbsp;Container&nbsp;·&nbsp;lxc&nbsp;·&nbsp;lxd&nbsp;·&nbsp;zip2john </p>
</div>
</footer>
<a class=entry-link aria-label="post link to HackTheBox - Tabby" href=https://fahmifj.github.io/writeups/hackthebox/htb-tabby/></a>
</article>
<article class="post-entry tag-entry">
<header class=entry-header>
<h2>HackTheBox - Bucket</h2>
</header>
<section class=entry-content>
<p>
Bucket, as the name implies, features an Amazon S3 bucket that has been configured to allow anonymous users to perform read/write operations to the objects inside a bucket. This type of misconfiguration can be leveraged to gain a foothold on the box by dropping a web shell. The box also has DynamoDB using the same configuration that allows anonymous users to perform read/write access. Enumeration on the DynamoDB discovers several credentials and one of the credentials is reused by the user.
...
</p>
</section>
<footer class=entry-footer>
April 24, 2021&nbsp;·&nbsp;14 min&nbsp;·&nbsp;Fahmi FJ<div class=entry-tags>
<p>OSCP-like&nbsp;·&nbsp;Linux&nbsp;·&nbsp;AWS&nbsp;·&nbsp;LocalStack&nbsp;·&nbsp;S3&nbsp;·&nbsp;DynamoDB&nbsp;·&nbsp;Webshell&nbsp;·&nbsp;Code-review&nbsp;·&nbsp;Tunneling&nbsp;·&nbsp;PD4ML&nbsp;·&nbsp;Gobuster </p>
</div>
</footer>
<a class=entry-link aria-label="post link to HackTheBox - Bucket" href=https://fahmifj.github.io/writeups/hackthebox/htb-bucket/></a>
</article>
<footer class=page-footer>
<nav>
<div class=pagination>
<a class=prev href=https://fahmifj.github.io/categories/writeup/page/5/>« Prev Page</a>
<a class=next href=https://fahmifj.github.io/categories/writeup/page/7/>Next Page »</a>
</div>
</nav>
</footer>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://fahmifj.github.io/>友人F</a></span>
<span>&#183;</span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script>var toc=document.getElementsByClassName('inner')[0],pTag=document.getElementsByClassName('post-meta')[0],fromTop=pTag.getBoundingClientRect().top,fromBottom=pTag.getBoundingClientRect().bottom;document.addEventListener('scroll',function(b){let a=document.documentElement.scrollTop+75;a>fromTop?(toc.style.visibility='visible',toc.style.opacity='1'):(toc.style.visibility='hidden',toc.style.opacity='0')})</script>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>