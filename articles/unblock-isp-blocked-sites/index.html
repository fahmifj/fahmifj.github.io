<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="index, follow"><title>A Personal Take on Bypassing ISP Blocks | Ef's log</title><meta name=keywords content="DNS filters,SSH SOCKS Proxy,DNS over HTTPS"><meta name=description content="Finding ways around digital roadblocks"><meta name=author content="Fahmi FJ"><link rel=canonical href=https://fahmifj.github.io/articles/unblock-isp-blocked-sites/><meta name=google-site-verification content="LlCRq--iL8r1HTz1DMbMvQyX2lZjWD-KnwFeO_OWlg8"><link crossorigin=anonymous href=https://fahmifj.github.io/assets/css/stylesheet.min.8a117ae0b5571349258aca57f8ac2ab743f7fffabbd237134b44e477b1164c37.css integrity="sha256-ihF64LVXE0klispX+Kwqt0P3//q70jcTS0Tkd7EWTDc=" rel="preload stylesheet" as=style><link crossorigin=anonymous rel=preload as=fetch href=https://fahmifj.github.io/index.json><script defer crossorigin=anonymous src=https://fahmifj.github.io/assets/js/search.min.2f98e6bd63d4b4790552a2fd8fdf9121b05beb3f6652b3216af158f45de23ed4.js integrity="sha256-L5jmvWPUtHkFUqL9j9+RIbBb6z9mUrMhavFY9F3iPtQ="></script>
<script defer crossorigin=anonymous src=https://fahmifj.github.io/assets/js/highlight.min.22059b46810f6ad868c7821e09643fcd3324a7aece939a3b9d810ddf8cc89e0d.js integrity="sha256-IgWbRoEPathox4IeCWQ/zTMkp67Ok5o7nYEN34zIng0=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://fahmifj.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://fahmifj.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://fahmifj.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://fahmifj.github.io/apple-touch-icon.png><link rel=mask-icon href=https://fahmifj.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.111.2"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-PDN0GP97D1"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PDN0GP97D1",{anonymize_ip:!1})}</script><meta property="og:title" content="A Personal Take on Bypassing ISP Blocks"><meta property="og:description" content="Finding ways around digital roadblocks"><meta property="og:type" content="article"><meta property="og:url" content="https://fahmifj.github.io/articles/unblock-isp-blocked-sites/"><meta property="article:section" content="articles"><meta property="article:published_time" content="2021-11-04T16:40:44+07:00"><meta property="article:modified_time" content="2023-03-06T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="A Personal Take on Bypassing ISP Blocks"><meta name=twitter:description content="Finding ways around digital roadblocks"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Articles","item":"https://fahmifj.github.io/articles/"},{"@type":"ListItem","position":2,"name":"A Personal Take on Bypassing ISP Blocks","item":"https://fahmifj.github.io/articles/unblock-isp-blocked-sites/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"A Personal Take on Bypassing ISP Blocks","name":"A Personal Take on Bypassing ISP Blocks","description":"Finding ways around digital roadblocks","keywords":["DNS filters","SSH SOCKS Proxy","DNS over HTTPS"],"articleBody":"Di waktu yang lalu, beberapa teman gw mengalami kesulitan saat akan mengakses situs seperti reddit atau situs streaming anime ilegal legal yang tidak lain dan tidak bukan ini karena situs-situs tersebut diblokir oleh ISP. Solusi mereka saat itu tentu saja pakai VPN, tapi sayangnya muncul problem lain, yaitu speed internet yang turun drastis. Yap! Karena VPN yang digunakan ini gratisan (baca: berjamaah).\nAkhirnya, gw kasih tahu solusi lain yang mudah dan murah, yaitu mengaktifkan fitur DNS over HTTPS (DoH) pada browsernya. Beberapa saat kemudian, salah satunya memberi respon berikut.\nSebuah testimoni Saat ini sebagian besar browser-browser populer sudah memiliki fitur DoH. Meskipun begitu, ternyata masih banyak orang yang belum tahu tentang adanya fitur ini.\nSettingan DoH pada Chrome dan Firefox Dengan mengaktifkan fitur DoH, hampir semua situs yang diblokir oleh ISP bisa dibuka kembali, loh.\nKok bisa?\nNah, dipostingan ini gw akan coba bahas kenapa DoH bisa dipakai untuk mem-bypass website yang diblokir*. Selanjutnya gw juga akan menggunakan dua cara alternatif untuk melakukan bypass tanpa DoH ataupun VPN dan mencari tahu apakah cara-cara tersebut bisa menjadikan kita sebagai anonymous üé≠, setidaknya untuk ISP.\n*Aslinya cuma dasar kerja DNS, but let me try to explain it.\nHow do ISPs block websites? DNS Request Flow Pertama-tama, kita perlu tahu dulu alur tentang bagaimana sebuah website itu akhirnya bisa terbuka oleh browser kita.\nKetika kita mengakses sebuah situs, sebut misal www.reddit.com, komputer kita akan mengirimkan sebuah kueri DNS ke server DNS. Secara default, kueri tadi akan sampai ke server DNS milik penyedia jasa internet (ISP) atau operator seluler yang kita pakai. Tujuannya supaya www.reddit.com bisa diterjemahkan ke alamat IP sehingga laman situs tersebut bisa dimuat kemudian.\nJadi, server DNS ini simplenya berisi informasi/mapping nama-nama domain dan menerjemahkannya ke alamat IP.\nDNS Filtering Jika alur DNS sudah kita pahami, selanjutnya adalah alur tentang proses pemblokiran sebuah website.\nKetika kita mengakses situs yang ternyata nama domain-nya tercatat di ‚Äúdaftar hitam‚Äù dari server DNS, maka domain yang sedang kita tuju akan diganti alamat IP dan domainnya menjadi halaman blokir milik si ISP, seperti merconsuar, IPO chan, dll. Metode yang digunakan ISP ini lebih dikenal dengan sebutan DNS hijack/poisoning.\nKita bisa melihat hasil hijack oleh server DNS ISP untuk www.reddit.com menggunakan Wireshark. Dari hasil inspeksi, kueri DNS untuk www.reddit.com telah diarahkan ke internetpositif.id yang beralamat di 36.86.63.185.\nHasil tracing (pelacakan) paket data yang ditujukan ke www.reddit.com dengan tool bawaan Windows, yaitu: tracert pun menunjukkan hal yang kurang lebih sama. Tapi kali ini, gw menggunakan koneksi operator seluler yang di tethering oleh smartphone. Alamat IP dari situs www.reddit.com diterjemahkan menjadi alamat IP ***.215.248.131.\n$ tracert -4 -d -h 5 www.reddit.com Tracing route to blockpage.****.id [***.215.197.131] over a maximum of 5 hops: 1 2 ms 2 ms 2 ms 192.168.1.1 2 * * * Request timed out. 3 38 ms 32 ms 24 ms 10.***.44.1 4 26 ms 31 ms 22 ms ***.215.248.78 5 33 ms 25 ms 27 ms ***.215.248.82 Trace complete. Jadi, manakah alamat IP dari www.reddit.com?\nKita bisa validasi hal ini menggunakan tool seperti Dig Google atau Dig Web Interface. Ibaratnya, kita membuat kueri DNS langsung di komputer dan ISP pihak penyedia tool tersebut. Hasilnya adalah berikut.\nHasil dig www.reddit.com Yap, ternyata alamat IP dari www.reddit.com menurut Google dan Dig Web adalah 151.101.X.140, bukan 36.86.63.185 ataupun ***.215.197.131. Yah, komputernya kena penipuan :/\nAlur pemblokiran website ini bisa diilustrasikan sebagai berikut.\nIlustrasi(nya) Darimana gw tau 10.***.44.1 itu router ISP?\nSetiap alamat IP yang dijajaki atau menjadi hop ini tentunya sebuah perangkat router/modem. Perangkat ini juga punya port SSH yang terbuka, jadi kemungkinan memang milik ISP.\n$ nc -vn 10.***.44.1 22 Ncat: Version 5.59BETA1 ( http://nmap.org/ncat ) Ncat: Connected to 10.***.44.1:22. SSH-2.0-OpenSSH_7.5 Tapi kan HTTPS, S-nya secure, kok bisa ISP tahu dan di-hijack?\nPerlu diingat, kueri DNS itu mendahului trafik HTTP/S dan isi kuerinya tidak terenkripsi alias plain text. Lalu proses enkripsi dari HTTPS itu hanya bagian kontennya1.\nTanpa DoH, paket-paket dan kueri DNS untuk me-resolve nama domain ke sebuah alamat IP dikirimkan secara plain-text (tanpa enkripsi).\nSaat kita mengunjungi sebuah situs, ISP hanya dapat melihat nama domain dan alamat IP dari situs tersebut. Informasi seperti username, password, dan bahkan URL endpoint/path beserta kuerynya tidak dapat diketahui oleh ISP. Misal, jika URL-nya adalah:\nhttps://website.com/api/v1/login?username=admin\u0026password=admin\nMaka, yang terlihat oleh ISP saat paket data kita transit di router mereka hanya nama domain, yaitu: website.com. Sedangkan sisanya, akan terenkripsi seperti berikut.\nContoh konten yang dienkripsi Dengan DoH, kueri DNS ikut ‚Äúdibungkus‚Äù HTTPS sebagai bagian dari konten aplikasi yang dikirim ke endpoint DoH seperti Cloudflare di https://cloudflare-dns.com/dns-query.\nSebenarnya, baik dengan atau tanpa DoH, ISP tetap tahu tujuan kita mau kemana. Namun, dengan DoH ini, ISP tidak dapat lagi mencegat dan membongkar kueri DNS yang kita kirimkan, sehingga komputer kita terhindar dari ‚Äúpenipuan‚Äù alamat yang dilakukan server DNS ISP pada kasus reddit.com diatas.\nLalu, endpoint cloudflare-dns.com di-resolve siapa?\nYa, itu DNSnya ISP, sih. Wkwkw.\nYah, ISP tahu nih kita pakai DoH. But tenang, kita bisa pakai versi IP 1^4-nya*\n$ curl -H 'accept: application/dns-json' \"https://1.1.1.1/dns-query?name=www.reddit.com\" {\"Status\":0,\"TC\":false,\"RD\":true,\"RA\":true,\"AD\":false,\"CD\":false,\"Question\":[{\"name\":\"www.reddit.com\",\"type\":1}],\"Answer\":[{\"name\":\"www.reddit.com\",\"type\":5,\"TTL\":288,\"data\":\"reddit.map.fastly.net.\"},{\"name\":\"reddit.map.fastly.net\",\"type\":1,\"TTL\":18,\"data\":\"151.101.65.140\"},{\"name\":\"reddit.map.fastly.net\",\"type\":1,\"TTL\":18,\"data\":\"151.101.129.140\"},{\"name\":\"reddit.map.fastly.net\",\"type\":1,\"TTL\":18,\"data\":\"151.101.193.140\"},{\"name\":\"reddit.map.fastly.net\",\"type\":1,\"TTL\":18,\"data\":\"151.101.1.140\"}]} *Tetap ketahuan sih, karena dari alamat IPnya ya punya cloudflare :))\nThou Shalt (By)Pass Hosts file: The Primivite DNS Sebenarnya, tanpa DoH, kita bisa menghindari ‚Äúpenipuan‚Äù alamat IP tadi di level cache, alias melakukan bypass dengan cara yang mirip dengan tekniknya ISP untuk memblokir situs web.\nKita tahu bahwa alasan komputer kita mengirimkan kueri DNS terlebih dahulu ke server DNS saat akan mengakses sebuah situs web adalah karena komputer belum tahu alamat IP dari domain situs web yang dimaksud. Setelah si komputer tahu, alamat IP dan domain situs web ini akan di simpan pada cache. Di request selanjutnya, komputer akan mengandalkan entri alamat yang ada pada cache, selama entri tersebut belum kadaluarsa, umumnya dalam jangka waktu 24 jam.\nPada Windows, kita bisa melihat daftar IP dan nama domain yang sudah di cache dengan menjalankan perintah berikut.\nC:\\\u003eifconfig /displaydns Informasi nama-nama domain pada server DNS milik ISP memiliki sifat dinamis. Informasi tersebut akan selalu up to date secara periodik alias bersifat dinamis. Nah, di sistem operasi sendiri, terdapat sebuah file yang merupakan bagian dari sistem DNS, namun bersifat statis, yaitu file hosts.\nFile hosts Windows bisa ditemukan di C:\\Windows\\System32\\drivers\\etc\\hosts, sedangkan untuk Linux/Unix, file ini terdapat berlokasi di /etc/hosts. Karena gw pengguna Windows, yang akan dibahas disini adalah hosts file Windows saja, tetapi secara fungsi, keduanya sama (pengguna Linux rata-rata udah suhu soalnya).\nWindows hosts file Isi dari file hosts ini akan selalu masuk ke dalam entri cache dari DNS. Maka dari itu, kita bisa memanfaatkan hal ini untuk memberi tahu komputer secara langsung (bypass) bahwa alamat IP, misalnya www.reddit.com, adalah 151.101.129.140. Caranya adalah dengan menambahkan sebuah entri ke dalam file hosts dengan format berikut.\n# [Alamat IP] [domain name 1] [domain name 2] [domain name N] 151.101.129.140 reddit.com www.reddit.com Sekarang kita bisa jalankan kembali perintah yang sama untuk menampilkan DNS cache, tapi sebelum itu ada baiknya DNS cache ini di-flush terlebih dulu.\nC:\\\u003eipconfig /flushdns # clear cache dulu untuk menghilangkan \"brainwash\" dari Server DNS ISP C:\\\u003eipconfig /displaydns Seharusnya saat ini www.reddit.com dan reddit.com berada di entry paling atas.\nKarena si komputer sudah tahu alamat IP dari www.reddit.com, maka dia tidak perlu lagi ‚Äúbertanya‚Äù ke server DNS milik ISP.\n$ tracert -d www.reddit.com Tracing route to reddit.com [151.101.129.140] over a maximum of 30 hops: 1 120 ms 2 ms 3 ms 192.168.43.1 2 * * * Request timed out. 3 162 ms 26 ms 26 ms 10.***.44.2 4 160 ms 25 ms 30 ms ***.215.36.238 5 187 ms 46 ms 46 ms 180.87.12.233 6 186 ms 57 ms 50 ms 180.87.12.232 7 191 ms 49 ms 47 ms 180.87.12.250 8 49 ms 49 ms 48 ms 210.57.30.38 9 188 ms 53 ms 52 ms 202.84.219.174 10 70 ms 49 ms 52 ms 202.84.219.174 11 60 ms 54 ms 49 ms 202.84.224.197 12 83 ms 80 ms 85 ms 210.57.38.171 13 205 ms 200 ms 203 ms 151.101.129.140 Trace complete. Tekniknya bisa diilustrasikan seperti berikut.\nKalau untuk situs lain gimana?\nCaranya, kamu bisa resolve dulu IPnya menggunakan tool dig DNS, misalnya dengan dig milik Google.\nLalu tambahkan hasil record yang di dapat ke dalam hosts file:\nSSH SOCKS Proxy Penggunaan host file dan DoH memang bisa mem-bypass Website, tapi pihak ISP masih bisa mengetahui situs apa yang kita akses berdasarkan kepemilikan IP dan nama domain. Untuk menghindari ini, salah satu cara ‚Äòmurah‚Äô dan mudah yang gw rekomendasikan adalah menggunakan virtual private server dan memanfaatkan fitur SOCKS proxy bawaan OpenSSH. VPS ini bisa kalian beli atau deploy sendiri di platform cloud seperti Microsoft Azure.\nJika dari pembaca ada yang masih berstatus pelajar, silahkan cek tautan ini.\nUntuk memanfaatkan proxy SOCKS dari SSH, perintahnya cukup simple:\n$ ssh user@vps-ip -D 1080 -N -D 1080: Buka SOCKS proxy di port 1080 -N: Tanpa interactive shell. Saat ini proxy SOCKS sudah tersedia pada local interface, 127.0.0.1:1080. Kita tinggal mengkonfigurasikan browser untuk menggunakan proxy tersebut.\nFirefox proxy settings Mudah kan?\nUntuk memudahkan proses switching proxy-unproxy, gw pakai ekstensi browser bernama FoxyProxy. Jadi, gw gak perlu buka-buka settingan browser lagi. Berikut tampilannya.\nFoxyProxy Toogle Konfigurasinya? sama dengan settingan browser tadi!\nKonfigurasi SOCKS Proxy di Foxy Proxy Untuk mengecek apakah proxy tersebut berjalan, cukup kunjungi situs: ifconfig.co/json. Sebagai contoh, hasil berikut menunjukkan IP publik gw sekarang adalah IP publik si VPS dan terdeteksi berada di US.\nAkses ifconfig.co dengan proxy Sampai sini seharusnya ISP hanya lihat komputer gw yang mengakses VPS dengan trafik seperti berikut.\nWeb trafic yang terenkripsi melalui SSH tunnel Conclusion Selain menggunakan VPN, setidaknya ada 3 metode yang bisa kamu coba untuk melakukan bypass web filter yang diterapkan oleh ISP langganan kamu,:\nHosts file, DoH, SSH SOCKS Proxy. Menggunakan hosts file dan DoH hanya sebatas menghindari komputer kita dari ‚Äúpenipuan‚Äù alamat palsu oleh server DNS ISP. Sedangkan untuk ‚ÄúSSH SOCKS Proxy + Doh‚Äù, selain menghindari ‚Äúpenipuan‚Äù, tunnel yang dibuat juga mengenkripsi keseluruhan trafik web kita.\nHasil testing ketiganya, bukan testing sih tapi kesimpulannya bisa di-‚Äútabel‚Äù-kan seperti berikut.\nBypass Web filters Hide the domain we visit from ISP? Hosts file Probably yes No DoH Yes, mostly No SSH SOCKS Proxy Yes, mostly, but it depends. Yes Gimana kalau IP DoH resolvernya diblokir ISP/Kom*nfo?\nKembali ke VPN deh. Hahaha.\nTapi sejauh ini sepertinya teknik blokir situs yang dipakai Kom*nfo dan ISP hanya sebatas di DNS hijack/redirection. Mungkin alasannya, jika yang diblokir sudah sampai IP, kemungkinan service-service internal mereka juga akan bermasalah, entah down atau semacamnya.\nYa, jadi gak perlu khawatir deh!\nKarena sudah kejadian di 2024. Lol.\nApakah dengan ini gw sudah bisa menjadi seperti bjoorka anonymous user?\nNope, karena private server yang gw pakai pun milik sesuatu yang lebih besar dari ISP dan dua-duanya mengumpulkan data juga.\nBaiklah, sekian untuk postingan ini semoga bermanfaat. See you in the next post.\nhttps://https.cio.gov/faq/#what-does-https-do¬†‚Ü©Ô∏é\n","wordCount":"1766","inLanguage":"en","datePublished":"2021-11-04T16:40:44+07:00","dateModified":"2023-03-06T00:00:00Z","author":{"@type":"Person","name":"Fahmi FJ"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://fahmifj.github.io/articles/unblock-isp-blocked-sites/"},"publisher":{"@type":"Organization","name":"Ef's log","logo":{"@type":"ImageObject","url":"https://fahmifj.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class="header sticky"><nav id=navbar class=nav><div class=logo><a href=https://fahmifj.github.io/ accesskey=h title="Fahmi FJ">F's log</a></div><ul id=menu onscroll=menuOnScroll()><li><a href=https://fahmifj.github.io/articles/ title=Articles>Articles</a></li><li><a href=https://fahmifj.github.io/stories/ title=Stories>Stories</a></li><li><a href=https://fahmifj.github.io/ctf/ title=CTF>CTF</a></li><li><a href=https://fahmifj.github.io/series/ title=Series>Series</a></li><li><a href=https://fahmifj.github.io/archives/ title=Archives>Archives</a></li></ul><div class=search-container><div id=searchBox><input class=searchInput id=searchInput aria-label=search type=search placeholder=Search...><div class=searchResults-container><span class="search-results hidden" id=searchResults aria-label="search results"></span></div></div><button id=theme-toggle accesskey=t title><svg id="moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></nav></header><div id=mask></div><main id=swup class="main transition-fade"><div class=content-wrapper><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://fahmifj.github.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://fahmifj.github.io/articles/>Articles</a></div><h1 class=post-title>A Personal Take on Bypassing ISP Blocks</h1><p class=post-description>Finding ways around digital roadblocks</p><div class=post-meta><span class=author>Fahmi FJ</span>&nbsp;&#183;&nbsp;<span class=date>November 04, 2021</span>&nbsp;&#183;&nbsp;<span class=meta-read>9 min read</span></div><hr></header><div class=post-content-container><nav id=toc class=toc aria-label="Table of contents"><div class=inner><ul><li><a href=#how-do-isps-block-websites aria-label="How do ISPs block websites?">How do ISPs block websites?</a><ul><li><a href=#dns-request-flow aria-label="DNS Request Flow">DNS Request Flow</a></li><li><a href=#dns-filtering aria-label="DNS Filtering">DNS Filtering</a></li></ul></li><li><a href=#thou-shalt-bypass aria-label="Thou Shalt (By)Pass">Thou Shalt (By)Pass</a><ul><li><a href=#hosts-file-the-primivite-dns aria-label="Hosts file: The Primivite DNS">Hosts file: The Primivite DNS</a></li><li><a href=#ssh-socks-proxy aria-label="SSH SOCKS Proxy">SSH SOCKS Proxy</a></li></ul></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li></ul></div></nav><div class=post-content><p>Di waktu yang lalu, beberapa teman gw mengalami kesulitan saat akan mengakses situs seperti reddit atau situs streaming anime <del>ilegal</del> legal yang tidak lain dan tidak bukan ini karena situs-situs tersebut diblokir oleh ISP. Solusi mereka saat itu tentu saja pakai VPN, tapi sayangnya muncul problem lain, yaitu speed internet yang turun drastis. Yap! Karena VPN yang digunakan ini gratisan (baca: berjamaah).</p><p>Akhirnya, gw kasih tahu solusi lain yang mudah dan murah, yaitu mengaktifkan fitur <a href=https://developers.cloudflare.com/1.1.1.1/encrypted-dns target=_blank rel="noopener noreferrer">DNS over HTTPS (DoH)</a> pada browsernya. Beberapa saat kemudian, salah satunya memberi respon berikut.</p><figure><img src=imgs/image-20211103210137432.png alt="Sebuah testimoni"><figcaption><p>Sebuah testimoni</p></figcaption></figure><p>Saat ini sebagian besar browser-browser populer sudah memiliki fitur <strong>DoH</strong>. Meskipun begitu, ternyata masih banyak orang yang belum tahu tentang adanya fitur ini.</p><figure><img src=imgs/image-20211104224726768.png alt="Settingan DoH pada Chrome dan Firefox"><figcaption><p>Settingan DoH pada Chrome dan Firefox</p></figcaption></figure><p>Dengan mengaktifkan fitur DoH, hampir semua situs yang diblokir oleh ISP bisa dibuka kembali, loh.</p><p><em><strong>Kok bisa?</strong></em></p><p>Nah, dipostingan ini gw akan coba bahas kenapa DoH bisa dipakai untuk mem-<em>bypass</em> website yang diblokir*. Selanjutnya gw juga akan menggunakan dua cara alternatif untuk melakukan bypass tanpa DoH ataupun VPN dan mencari tahu apakah cara-cara tersebut bisa menjadikan kita sebagai anonymous üé≠, setidaknya untuk ISP.</p><blockquote><p>*Aslinya cuma dasar kerja DNS, but let me try to explain it.</p></blockquote><h2 id=how-do-isps-block-websites>How do ISPs block websites?<a class=anchor aria-hidden=true href=#how-do-isps-block-websites>#</a></h2><h3 id=dns-request-flow>DNS Request Flow<a class=anchor aria-hidden=true href=#dns-request-flow>#</a></h3><p>Pertama-tama, kita perlu tahu dulu alur tentang bagaimana sebuah website itu akhirnya bisa terbuka oleh browser kita.</p><p>Ketika kita mengakses sebuah situs, sebut misal <code>www.reddit.com</code>, komputer kita akan mengirimkan sebuah <a href=https://www.cloudns.net/wiki/article/254/ target=_blank rel="noopener noreferrer">kueri DNS</a> ke server DNS. Secara default, kueri tadi akan sampai ke server DNS milik penyedia jasa internet (ISP) atau operator seluler yang kita pakai. Tujuannya supaya <code>www.reddit.com</code> bisa diterjemahkan ke alamat IP sehingga laman situs tersebut bisa dimuat kemudian.</p><img src=./imgs/image-20250128220902286.png alt=image-20250128220902286 style=zoom:50%><p>Jadi, server DNS ini simplenya berisi informasi/mapping nama-nama domain dan menerjemahkannya ke alamat IP.</p><h3 id=dns-filtering>DNS Filtering<a class=anchor aria-hidden=true href=#dns-filtering>#</a></h3><p>Jika alur DNS sudah kita pahami, selanjutnya adalah alur tentang proses pemblokiran sebuah website.</p><p>Ketika kita mengakses situs yang ternyata nama domain-nya tercatat di &ldquo;daftar hitam&rdquo; dari server DNS, maka domain yang sedang kita tuju akan diganti alamat IP dan domainnya menjadi halaman blokir milik si ISP, seperti merconsuar, IPO chan, dll. Metode yang digunakan ISP ini lebih dikenal dengan sebutan <a href=https://en.wikipedia.org/wiki/DNS_hijacking target=_blank rel="noopener noreferrer">DNS hijack/poisoning</a>.</p><p>Kita bisa melihat hasil hijack oleh server DNS ISP untuk <code>www.reddit.com</code> menggunakan Wireshark. Dari hasil inspeksi, kueri DNS untuk <code>www.reddit.com</code> telah diarahkan ke <code>internetpositif.id</code> yang beralamat di <code>36.86.63.185</code>.</p><img src=./imgs//image-20241226140545496.png alt=image-20241226140545496 style=zoom:50%><p>Hasil <em>tracing</em> (pelacakan) paket data yang ditujukan ke <code>www.reddit.com</code> dengan tool bawaan Windows, yaitu: <code>tracert</code> pun menunjukkan hal yang kurang lebih sama. Tapi kali ini, gw menggunakan koneksi operator seluler yang di tethering oleh smartphone. Alamat IP dari situs <code>www.reddit.com</code> diterjemahkan menjadi alamat IP <code>***.215.248.131</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ tracert -4 -d -h <span class=m>5</span> www.reddit.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Tracing route to blockpage.****.id <span class=o>[</span>***.215.197.131<span class=o>]</span> 
</span></span><span class=line><span class=cl>over a maximum of <span class=m>5</span> hops:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=m>1</span>     <span class=m>2</span> ms     <span class=m>2</span> ms     <span class=m>2</span> ms  192.168.1.1 
</span></span><span class=line><span class=cl>  <span class=m>2</span>     *        *        *     Request timed out.
</span></span><span class=line><span class=cl>  <span class=m>3</span>    <span class=m>38</span> ms    <span class=m>32</span> ms    <span class=m>24</span> ms  10.***.44.1 
</span></span><span class=line><span class=cl>  <span class=m>4</span>    <span class=m>26</span> ms    <span class=m>31</span> ms    <span class=m>22</span> ms  ***.215.248.78 
</span></span><span class=line><span class=cl>  <span class=m>5</span>    <span class=m>33</span> ms    <span class=m>25</span> ms    <span class=m>27</span> ms  ***.215.248.82 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Trace complete.
</span></span></code></pre></div><p>Jadi, manakah alamat IP dari <code>www.reddit.com</code>?</p><p>Kita bisa validasi hal ini menggunakan tool seperti <a href=https://toolbox.googleapps.com/apps/dig/#A/ target=_blank rel="noopener noreferrer">Dig Google</a> atau <a href="https://digwebinterface.com/?hostnames=www.reddit.com&amp;type=&amp;ns=resolver&amp;useresolver=9.9.9.10&amp;nameservers=" target=_blank rel="noopener noreferrer">Dig Web Interface</a>. Ibaratnya, kita membuat kueri DNS langsung di komputer dan ISP pihak penyedia tool tersebut. Hasilnya adalah berikut.</p><figure><img src=imgs/image-20211104095424598.png alt="Hasil dig www.reddit.com"><figcaption><p>Hasil dig <a href=https://www.reddit.com target=_blank rel="noopener noreferrer">www.reddit.com</a></p></figcaption></figure><p>Yap, ternyata alamat IP dari <code>www.reddit.com</code> menurut Google dan Dig Web adalah <code>151.101.X.140</code>, bukan <code>36.86.63.185</code> ataupun <code>***.215.197.131</code>. Yah, komputernya kena penipuan :/</p><p>Alur pemblokiran website ini bisa diilustrasikan sebagai berikut.</p><figure><img src=imgs/image-20211103163418666.png alt=Ilustrasi(nya)><figcaption><p>Ilustrasi(nya)</p></figcaption></figure><p><em><strong>Darimana gw tau 10.***.44.1 itu router ISP?</strong></em></p><p>Setiap alamat IP yang dijajaki atau menjadi <em>hop</em> ini tentunya sebuah perangkat router/modem. Perangkat ini juga punya port SSH yang terbuka, jadi kemungkinan memang milik ISP.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ nc -vn 10.***.44.1 <span class=m>22</span>
</span></span><span class=line><span class=cl>Ncat: Version 5.59BETA1 <span class=o>(</span> http://nmap.org/ncat <span class=o>)</span>
</span></span><span class=line><span class=cl>Ncat: Connected to 10.***.44.1:22.
</span></span><span class=line><span class=cl>SSH-2.0-OpenSSH_7.5
</span></span></code></pre></div><p><em><strong>Tapi kan HTTPS, S-nya secure, kok bisa ISP tahu dan di-hijack?</strong></em></p><p>Perlu diingat, kueri DNS itu mendahului trafik HTTP/S dan isi kuerinya tidak terenkripsi alias plain text. Lalu proses enkripsi dari HTTPS itu hanya bagian kontennya<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>Tanpa DoH, paket-paket dan kueri DNS untuk me-<em>resolve</em> nama domain ke sebuah alamat IP dikirimkan secara <em>plain-text</em> (tanpa enkripsi).</p><p>Saat kita mengunjungi sebuah situs, ISP hanya dapat melihat nama domain dan alamat IP dari situs tersebut. Informasi seperti username, password, dan bahkan URL endpoint/path beserta kuerynya tidak dapat diketahui oleh ISP. Misal, jika URL-nya adalah:</p><p><code>https://website.com/api/v1/login?username=admin&amp;password=admin</code></p><p>Maka, yang terlihat oleh ISP saat paket data kita transit di router mereka hanya nama domain, yaitu: <code>website.com</code>. Sedangkan sisanya, akan terenkripsi seperti berikut.</p><figure><img src=imgs/image-20211104092043412.png alt="Contoh konten yang dienkripsi"><figcaption><p>Contoh konten yang dienkripsi</p></figcaption></figure><p>Dengan DoH, kueri DNS ikut &ldquo;dibungkus&rdquo; HTTPS sebagai bagian dari konten aplikasi yang dikirim ke <em>endpoint</em> DoH seperti Cloudflare di <a href=https://cloudflare-dns.com/dns-query target=_blank rel="noopener noreferrer">https://cloudflare-dns.com/dns-query</a>.</p><p>Sebenarnya, baik dengan atau tanpa DoH, ISP tetap tahu tujuan kita mau kemana. Namun, dengan DoH ini, ISP tidak dapat lagi mencegat dan membongkar kueri DNS yang kita kirimkan, sehingga komputer kita terhindar dari &ldquo;penipuan&rdquo; alamat yang dilakukan server DNS ISP pada kasus <code>reddit.com</code> diatas.</p><p><em><strong>Lalu, endpoint cloudflare-dns.com di-resolve siapa?</strong></em></p><p>Ya, itu DNSnya ISP, sih. Wkwkw.</p><p>Yah, ISP tahu nih kita pakai DoH. But tenang, kita bisa pakai versi IP 1^4-nya*</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ curl -H <span class=s1>&#39;accept: application/dns-json&#39;</span> <span class=s2>&#34;https://1.1.1.1/dns-query?name=www.reddit.com&#34;</span>
</span></span><span class=line><span class=cl><span class=o>{</span><span class=s2>&#34;Status&#34;</span>:0,<span class=s2>&#34;TC&#34;</span>:false,<span class=s2>&#34;RD&#34;</span>:true,<span class=s2>&#34;RA&#34;</span>:true,<span class=s2>&#34;AD&#34;</span>:false,<span class=s2>&#34;CD&#34;</span>:false,<span class=s2>&#34;Question&#34;</span>:<span class=o>[{</span><span class=s2>&#34;name&#34;</span>:<span class=s2>&#34;www.reddit.com&#34;</span>,<span class=s2>&#34;type&#34;</span>:1<span class=o>}]</span>,<span class=s2>&#34;Answer&#34;</span>:<span class=o>[{</span><span class=s2>&#34;name&#34;</span>:<span class=s2>&#34;www.reddit.com&#34;</span>,<span class=s2>&#34;type&#34;</span>:5,<span class=s2>&#34;TTL&#34;</span>:288,<span class=s2>&#34;data&#34;</span>:<span class=s2>&#34;reddit.map.fastly.net.&#34;</span><span class=o>}</span>,<span class=o>{</span><span class=s2>&#34;name&#34;</span>:<span class=s2>&#34;reddit.map.fastly.net&#34;</span>,<span class=s2>&#34;type&#34;</span>:1,<span class=s2>&#34;TTL&#34;</span>:18,<span class=s2>&#34;data&#34;</span>:<span class=s2>&#34;151.101.65.140&#34;</span><span class=o>}</span>,<span class=o>{</span><span class=s2>&#34;name&#34;</span>:<span class=s2>&#34;reddit.map.fastly.net&#34;</span>,<span class=s2>&#34;type&#34;</span>:1,<span class=s2>&#34;TTL&#34;</span>:18,<span class=s2>&#34;data&#34;</span>:<span class=s2>&#34;151.101.129.140&#34;</span><span class=o>}</span>,<span class=o>{</span><span class=s2>&#34;name&#34;</span>:<span class=s2>&#34;reddit.map.fastly.net&#34;</span>,<span class=s2>&#34;type&#34;</span>:1,<span class=s2>&#34;TTL&#34;</span>:18,<span class=s2>&#34;data&#34;</span>:<span class=s2>&#34;151.101.193.140&#34;</span><span class=o>}</span>,<span class=o>{</span><span class=s2>&#34;name&#34;</span>:<span class=s2>&#34;reddit.map.fastly.net&#34;</span>,<span class=s2>&#34;type&#34;</span>:1,<span class=s2>&#34;TTL&#34;</span>:18,<span class=s2>&#34;data&#34;</span>:<span class=s2>&#34;151.101.1.140&#34;</span><span class=o>}]}</span>
</span></span></code></pre></div><blockquote><p>*Tetap ketahuan sih, karena dari alamat IPnya ya punya cloudflare :))</p></blockquote><h2 id=thou-shalt-bypass>Thou Shalt (By)Pass<a class=anchor aria-hidden=true href=#thou-shalt-bypass>#</a></h2><h3 id=hosts-file-the-primivite-dns>Hosts file: The Primivite DNS<a class=anchor aria-hidden=true href=#hosts-file-the-primivite-dns>#</a></h3><p>Sebenarnya, tanpa DoH, kita bisa menghindari &ldquo;penipuan&rdquo; alamat IP tadi di level <em>cache</em>, alias melakukan bypass dengan cara yang mirip dengan tekniknya ISP untuk memblokir situs web.</p><p>Kita tahu bahwa alasan komputer kita mengirimkan kueri DNS terlebih dahulu ke server DNS saat akan mengakses sebuah situs web adalah karena komputer belum tahu alamat IP dari domain situs web yang dimaksud. Setelah si komputer tahu, alamat IP dan domain situs web ini akan di simpan pada <a href=https://www.cloudns.net/blog/dns-cache-explained/ target=_blank rel="noopener noreferrer">cache</a>. Di <em>request</em> selanjutnya, komputer akan mengandalkan entri alamat yang ada pada <em>cache</em>, selama entri tersebut belum kadaluarsa, umumnya dalam jangka waktu 24 jam.</p><p>Pada Windows, kita bisa melihat daftar IP dan nama domain yang sudah di <em>cache</em> dengan menjalankan perintah berikut.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>C:<span class=se>\&gt;</span>ifconfig /displaydns
</span></span></code></pre></div><p>Informasi nama-nama domain pada server DNS milik ISP memiliki sifat dinamis. Informasi tersebut akan selalu up to date secara periodik alias bersifat dinamis. Nah, di sistem operasi sendiri, terdapat sebuah file yang merupakan bagian dari sistem DNS, namun bersifat statis, yaitu file <code>hosts</code>.</p><p>File <code>hosts</code> Windows bisa ditemukan di <code>C:\Windows\System32\drivers\etc\hosts</code>, sedangkan untuk Linux/Unix, file ini terdapat berlokasi di <code>/etc/hosts</code>. Karena gw pengguna Windows, yang akan dibahas disini adalah <code>hosts</code> file Windows saja, tetapi secara fungsi, keduanya sama (pengguna Linux rata-rata udah suhu soalnya).</p><figure><img src=imgs/image-20211104123812239.png alt="Windows hosts file"><figcaption><p>Windows hosts file</p></figcaption></figure><p>Isi dari file <code>hosts</code> ini akan selalu masuk ke dalam entri <em>cache</em> dari DNS. Maka dari itu, kita bisa memanfaatkan hal ini untuk memberi tahu komputer secara langsung (<em>bypass</em>) bahwa alamat IP, misalnya <code>www.reddit.com</code>, adalah <code>151.101.129.140</code>. Caranya adalah dengan menambahkan sebuah entri ke dalam file hosts dengan format berikut.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl># [Alamat IP] [domain name 1] [domain name 2] [domain name N]
</span></span><span class=line><span class=cl>151.101.129.140 reddit.com www.reddit.com
</span></span></code></pre></div><img src=imgs/image-20211104131236469.png alt=image-20211104131236469 style=zoom:50%><p>Sekarang kita bisa jalankan kembali perintah yang sama untuk menampilkan DNS cache, tapi sebelum itu ada baiknya DNS cache ini di-<em>flush</em> terlebih dulu.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>C:<span class=se>\&gt;</span>ipconfig /flushdns <span class=c1># clear cache dulu untuk menghilangkan &#34;brainwash&#34; dari Server DNS ISP</span>
</span></span><span class=line><span class=cl>C:<span class=se>\&gt;</span>ipconfig /displaydns
</span></span></code></pre></div><p>Seharusnya saat ini <code>www.reddit.com</code> dan <code>reddit.com</code> berada di entry paling atas.</p><p>Karena si komputer sudah tahu alamat IP dari <code>www.reddit.com</code>, maka dia tidak perlu lagi &ldquo;bertanya&rdquo; ke server DNS milik ISP.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ tracert -d www.reddit.com
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Tracing route to reddit.com <span class=o>[</span>151.101.129.140<span class=o>]</span>
</span></span><span class=line><span class=cl>over a maximum of <span class=m>30</span> hops:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=m>1</span>   <span class=m>120</span> ms     <span class=m>2</span> ms     <span class=m>3</span> ms  192.168.43.1
</span></span><span class=line><span class=cl>  <span class=m>2</span>     *        *        *     Request timed out.
</span></span><span class=line><span class=cl>  <span class=m>3</span>   <span class=m>162</span> ms    <span class=m>26</span> ms    <span class=m>26</span> ms  10.***.44.2
</span></span><span class=line><span class=cl>  <span class=m>4</span>   <span class=m>160</span> ms    <span class=m>25</span> ms    <span class=m>30</span> ms  ***.215.36.238 
</span></span><span class=line><span class=cl>  <span class=m>5</span>   <span class=m>187</span> ms    <span class=m>46</span> ms    <span class=m>46</span> ms  180.87.12.233
</span></span><span class=line><span class=cl>  <span class=m>6</span>   <span class=m>186</span> ms    <span class=m>57</span> ms    <span class=m>50</span> ms  180.87.12.232
</span></span><span class=line><span class=cl>  <span class=m>7</span>   <span class=m>191</span> ms    <span class=m>49</span> ms    <span class=m>47</span> ms  180.87.12.250
</span></span><span class=line><span class=cl>  <span class=m>8</span>    <span class=m>49</span> ms    <span class=m>49</span> ms    <span class=m>48</span> ms  210.57.30.38
</span></span><span class=line><span class=cl>  <span class=m>9</span>   <span class=m>188</span> ms    <span class=m>53</span> ms    <span class=m>52</span> ms  202.84.219.174
</span></span><span class=line><span class=cl> <span class=m>10</span>    <span class=m>70</span> ms    <span class=m>49</span> ms    <span class=m>52</span> ms  202.84.219.174
</span></span><span class=line><span class=cl> <span class=m>11</span>    <span class=m>60</span> ms    <span class=m>54</span> ms    <span class=m>49</span> ms  202.84.224.197
</span></span><span class=line><span class=cl> <span class=m>12</span>    <span class=m>83</span> ms    <span class=m>80</span> ms    <span class=m>85</span> ms  210.57.38.171
</span></span><span class=line><span class=cl> <span class=m>13</span>   <span class=m>205</span> ms   <span class=m>200</span> ms   <span class=m>203</span> ms  151.101.129.140 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Trace complete.
</span></span></code></pre></div><p>Tekniknya bisa diilustrasikan seperti berikut.</p><img src=./imgs/image-20250128224915710.png alt=image-20250128224915710 style=zoom:50%><p><em><strong>Kalau untuk situs lain gimana?</strong></em></p><p>Caranya, kamu bisa <em>resolve</em> dulu IPnya menggunakan tool dig DNS, misalnya dengan dig milik Google.</p><img src=imgs/image-20211104142819468.png alt=image-20211104142819468 style=zoom:50%><p>Lalu tambahkan hasil record yang di dapat ke dalam <code>hosts</code> file:</p><img src=imgs/image-20211104142858365.png alt=image-20211104142858365 style=zoom:50%><h3 id=ssh-socks-proxy>SSH SOCKS Proxy<a class=anchor aria-hidden=true href=#ssh-socks-proxy>#</a></h3><p>Penggunaan <code>host</code> file dan DoH memang bisa mem-<em>bypass</em> Website, tapi pihak ISP masih bisa mengetahui situs apa yang kita akses berdasarkan kepemilikan IP dan nama domain. Untuk menghindari ini, salah satu cara &lsquo;murah&rsquo; dan mudah yang gw rekomendasikan adalah menggunakan <em>virtual private server</em> dan memanfaatkan fitur SOCKS <a href=https://en.wikipedia.org/wiki/Proxy_server target=_blank rel="noopener noreferrer">proxy</a> bawaan OpenSSH. VPS ini bisa kalian beli atau deploy sendiri di platform cloud seperti Microsoft Azure.</p><blockquote><p>Jika dari pembaca ada yang masih berstatus pelajar, silahkan cek <a href=https://azure.microsoft.com/en-us/free/students/ target=_blank rel="noopener noreferrer">tautan ini</a>.</p></blockquote><p>Untuk memanfaatkan proxy SOCKS dari SSH, perintahnya cukup simple:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ ssh user@vps-ip -D <span class=m>1080</span> -N
</span></span></code></pre></div><ul><li><code>-D 1080</code>: Buka SOCKS proxy di port 1080</li><li><code>-N</code>: Tanpa interactive shell.</li></ul><p>Saat ini proxy SOCKS sudah tersedia pada local interface, <code>127.0.0.1:1080</code>. Kita tinggal mengkonfigurasikan browser untuk menggunakan proxy tersebut.</p><figure><img src=imgs/image-20211104161049841.png alt="Firefox proxy settings"><figcaption><p>Firefox proxy settings</p></figcaption></figure><p>Mudah kan?</p><p>Untuk memudahkan proses switching proxy-unproxy, gw pakai ekstensi browser bernama <a href=https://addons.mozilla.org/en-US/firefox/addon/foxyproxy-standard/ target=_blank rel="noopener noreferrer">FoxyProxy</a>. Jadi, gw gak perlu buka-buka settingan browser lagi. Berikut tampilannya.</p><figure><img src=imgs/image-20211104160902204.png alt="FoxyProxy Toogle"><figcaption><p>FoxyProxy Toogle</p></figcaption></figure><p>Konfigurasinya? sama dengan settingan browser tadi!</p><figure><img src=imgs/image-20211104090204141.png alt="Konfigurasi SOCKS Proxy di Foxy Proxy"><figcaption><p>Konfigurasi SOCKS Proxy di Foxy Proxy</p></figcaption></figure><p>Untuk mengecek apakah proxy tersebut berjalan, cukup kunjungi situs: <code>ifconfig.co/json</code>. Sebagai contoh, hasil berikut menunjukkan IP publik gw sekarang adalah IP publik si VPS dan terdeteksi berada di US.</p><figure><img src=imgs/image-20211104090145368.png alt="Akses ifconfig.co dengan proxy"><figcaption><p>Akses ifconfig.co dengan proxy</p></figcaption></figure><p>Sampai sini seharusnya ISP hanya lihat komputer gw yang mengakses VPS dengan trafik seperti berikut.</p><figure><img src=imgs/image-20211104152555436.png alt="Web trafic yang terenkripsi melalui SSH tunnel"><figcaption><p>Web trafic yang terenkripsi melalui SSH tunnel</p></figcaption></figure><h2 id=conclusion>Conclusion<a class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Selain menggunakan VPN, setidaknya ada 3 metode yang bisa kamu coba untuk melakukan bypass web filter yang diterapkan oleh ISP langganan kamu,:</p><ul><li>Hosts file,</li><li>DoH,</li><li>SSH SOCKS Proxy.</li></ul><p>Menggunakan <code>hosts</code> file dan DoH hanya sebatas menghindari komputer kita dari &ldquo;penipuan&rdquo; alamat palsu oleh server DNS ISP. Sedangkan untuk &ldquo;SSH SOCKS Proxy + Doh&rdquo;, selain menghindari &ldquo;penipuan&rdquo;, tunnel yang dibuat juga mengenkripsi keseluruhan trafik web kita.</p><p>Hasil <em>testing</em> ketiganya, bukan <em>testing</em> sih tapi kesimpulannya bisa di-&ldquo;tabel&rdquo;-kan seperti berikut.</p><div class=force-center><table><thead><tr><th></th><th>Bypass Web filters</th><th>Hide the domain we visit from ISP?</th></tr></thead><tbody><tr><td>Hosts file</td><td>Probably yes</td><td>No</td></tr><tr><td>DoH</td><td>Yes, mostly</td><td>No</td></tr><tr><td>SSH SOCKS Proxy</td><td>Yes, mostly, but it depends.</td><td>Yes</td></tr></tbody></table></div><p><em><strong>Gimana kalau IP DoH resolvernya diblokir ISP/Kom*nfo?</strong></em></p><p>Kembali ke VPN deh. Hahaha.</p><p>Tapi sejauh ini sepertinya teknik blokir situs yang dipakai Kom*nfo dan ISP hanya sebatas di DNS hijack/redirection. Mungkin alasannya, jika yang diblokir sudah sampai IP, kemungkinan service-service internal mereka juga akan bermasalah, entah down atau semacamnya.</p><p>Ya, jadi gak perlu khawatir deh!</p><blockquote><p>Karena sudah kejadian di 2024. Lol.</p></blockquote><p><em><strong>Apakah dengan ini gw sudah bisa menjadi <del>seperti bjoorka</del> anonymous user?</strong></em></p><p>Nope, karena private server yang gw pakai pun milik sesuatu yang lebih besar dari ISP dan dua-duanya mengumpulkan data juga.</p><p>Baiklah, sekian untuk postingan ini semoga bermanfaat. See you in the next post.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://https.cio.gov/faq/#what-does-https-do target=_blank rel="noopener noreferrer">https://https.cio.gov/faq/#what-does-https-do</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><div class=post-references><h2>Reference</h2><ul><li><a href=https://www.digitalocean.com/community/tutorials/an-introduction-to-dns-terminology-components-and-concepts target=_blank rel="noopener noreferrer">https://www.digitalocean.com/community/tutorials/an-introduction-to-dns-terminology-components-and-concepts</a></li></ul></div></div></div><div class=post-meta-bottom><span class=date-update>Updated on March 06, 2023</span></div><footer class=post-footer><ul class=post-tags><li><a href=https://fahmifj.github.io/tags/dns/>DNS</a></li><li><a href=https://fahmifj.github.io/tags/doh/>DoH</a></li><li><a href=https://fahmifj.github.io/tags/proxy/>Proxy</a></li><li><a href=https://fahmifj.github.io/tags/tunneling/>Tunneling</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share A Personal Take on Bypassing ISP Blocks on twitter" href="https://twitter.com/intent/tweet/?text=A%20Personal%20Take%20on%20Bypassing%20ISP%20Blocks&amp;url=https%3a%2f%2ffahmifj.github.io%2farticles%2funblock-isp-blocked-sites%2f&amp;hashtags=DNS%2cDoH%2cProxy%2cTunneling"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share A Personal Take on Bypassing ISP Blocks on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2ffahmifj.github.io%2farticles%2funblock-isp-blocked-sites%2f&amp;title=A%20Personal%20Take%20on%20Bypassing%20ISP%20Blocks&amp;summary=A%20Personal%20Take%20on%20Bypassing%20ISP%20Blocks&amp;source=https%3a%2f%2ffahmifj.github.io%2farticles%2funblock-isp-blocked-sites%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share A Personal Take on Bypassing ISP Blocks on reddit" href="https://reddit.com/submit?url=https%3a%2f%2ffahmifj.github.io%2farticles%2funblock-isp-blocked-sites%2f&title=A%20Personal%20Take%20on%20Bypassing%20ISP%20Blocks"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share A Personal Take on Bypassing ISP Blocks on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2ffahmifj.github.io%2farticles%2funblock-isp-blocked-sites%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share A Personal Take on Bypassing ISP Blocks on whatsapp" href="https://api.whatsapp.com/send?text=A%20Personal%20Take%20on%20Bypassing%20ISP%20Blocks%20-%20https%3a%2f%2ffahmifj.github.io%2farticles%2funblock-isp-blocked-sites%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share A Personal Take on Bypassing ISP Blocks on telegram" href="https://telegram.me/share/url?text=A%20Personal%20Take%20on%20Bypassing%20ISP%20Blocks&amp;url=https%3a%2f%2ffahmifj.github.io%2farticles%2funblock-isp-blocked-sites%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></div></main><footer class=footer><div class=footer-wrapper><div class=footer-right><span class=copyright>&copy; 2025&nbsp;<a href=https://fahmifj.github.io/about>Fahmi FJ</a></span></div><div class=footer-mid><span class=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></span>
&nbsp;¬∑&nbsp;
<span class=support><a href=https://fahmifj.github.io/about#support>support</a></span>
&nbsp;¬∑&nbsp;
<span class=rss><a href=https://fahmifj.github.io/index.xml>rss</a></span></div><div class=footer-left><span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span></div></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script></script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script src=https://fahmifj.github.io/js/toc.min.b75cae8790ef3a4e3db971f42369f43e8ca2d3f33d5a4779417f75ae19a63a0d.js></script>
<script src=https://unpkg.com/swup@4></script>
<script>function profileClick(e){const t=document.querySelector(e);if(!t)return;t.onclick=()=>{location.href=location.origin+"/about"}}function menuOnScroll(){const e=document.getElementById("menu");e&&localStorage.setItem("menu-scroll-position",e.scrollLeft)}function restoreMenuScroll(){const e=document.getElementById("menu");if(e){const t=localStorage.getItem("menu-scroll-position");t!==null&&(e.scrollLeft=t)}}function updateActiveMenu(){const e=window.location.pathname.replace(/\/$/,"")+"/";document.querySelectorAll("#menu a").forEach(t=>{const n=new URL(t.href).pathname.replace(/\/$/,"")+"/";t.classList.toggle("active",e===n)})}const swup=new Swup({animationSelector:!1});function initCustomListener(){initTOC(".toc"),profileClick(".profile-img"),restoreMenuScroll(),updateActiveMenu()}document.addEventListener("DOMContentLoaded",()=>{initCustomListener()}),swup.hooks.on("page:view",()=>{initCustomListener()})</script></body></html>